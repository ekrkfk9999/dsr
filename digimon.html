<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="icon" href="image/icon.png" type="image/x-icon">
  <title>DSR</title>
  <link rel="stylesheet" href="styles.css">
  <script src="digimon.js" defer></script>
</head>
<body>
  <header>
    <div class="navbar">
      <div class="logo">
        <a href="index.html"><img src="image/logo.png"></a>
      </div>
      <ul class="links">
        <li><a href="digimon.html">도감</a></li>
        <li><a href="evolution.html">진화트리</a></li>
        <li><a href="map.html">맵</a></li>
      </ul>
      <div>
      <a href="https://www.digimonsuperrumble.com/" class="action_btn" target="_blank"><img src="image/house-solid.svg"></a>
      <a href="https://cafe.naver.com/movedsr" class="action_btn" target="_blank"><img src="image/cafe.png"></a>
      </div>
      <div class="toggle_btn">
        <i class="fa-solid fa-bars"></i>
      </div>
    </div>

    <div class="dropdown_menu">
      <li><a href="digimon.html">도감</a></li>
      <li><a href="evolution.html">진화트리</a></li>
      <li><a href="map.html">맵</a></li>
      
      <li class="inline-items">
        <a href="https://www.digimonsuperrumble.com/" class="action_btn" target="_blank"><img src="image/house-solid.svg"></a>
        <a href="https://cafe.naver.com/movedsr" class="action_btn" target="_blank"><img src="image/cafe.png"></a>
      </li>
    </div>
  </header>

  <script>
    const toggleBtn = document.querySelector('.toggle_btn')
    const toggleBtnIcon = document.querySelector('.toggle_btn i')
    const dropDownMenu = document.querySelector('.dropdown_menu')

    toggleBtn.onclick = function () {
      dropDownMenu.classList.toggle('open');
      const isOpen = dropDownMenu.classList.contains('open')

      toggleBtnIcon.classList = isOpen
      ? 'fa-solid fa-xmark'
      : 'fa-solid fa-bars'
    }
  </script>


    <div class="container">
      
    <div class="filters">
        <button id="reset-filters-btn" class="reset-btn" onclick="resetFilters()">필터 초기화</button>
      <div class="filter-row">
        <label class="filter-label">진화 단계</label>
        <div class="button-group">
          <label>
            <input type="checkbox" id="select-all-evolution" onclick="toggleAllEvolution()" />
          </label>
          <button id="성장기" class="evolution-btn" title="성장기" onclick="toggleEvolution('성장기')">
            <img src="image/성장기.webp" alt="성장기">
          </button>
          <button id="성숙기" class="evolution-btn" title="성숙기" onclick="toggleEvolution('성숙기')">
            <img src="image/성숙기.webp" alt="성숙기">
          </button>
          <button id="완전체" class="evolution-btn" title="완전체" onclick="toggleEvolution('완전체')">
            <img src="image/완전체.webp" alt="완전체">
          </button>
          <button id="궁극체" class="evolution-btn" title="궁극체" onclick="toggleEvolution('궁극체')">
            <img src="image/궁극체.webp" alt="궁극체">
          </button>
        </div>
      </div>

      <div class="filter-row">
        <label class="filter-label">타입</label>
        <div class="button-group">
          <label>
            <input type="checkbox" id="select-all-type" onclick="toggleAllType()" />
          </label>
            <button id="백신" class="type-btn" title="백신" onclick="toggleType('백신')">
              <img src="image/백신.webp" alt="백신">
            </button>
            <button id="데이터" class="type-btn" title="데이터" onclick="toggleType('데이터')">
              <img src="image/데이터.webp" alt="데이터">
            </button>
            <button id="바이러스" class="type-btn" title="바이러스" onclick="toggleType('바이러스')">
              <img src="image/바이러스.webp" alt="바이러스">
            </button>
            <button id="프리" class="type-btn" title="프리" onclick="toggleType('프리')">
              <img src="image/프리.webp" alt="프리">
            </button>
            <button id="언노운" class="type-btn" title="언노운" onclick="toggleType('언노운')">
             <img src="image/언노운.webp" alt="언노운">
            </button>
        </div>
      </div>

      <div class="filter-row">
        <label class="filter-label">
          스킬 속성
          <img src="image/qm.webp" alt="스킬속성 아이콘" class="skill-qm" onmouseover="showTooltip('tooltip-skill')">
          <div class="tooltip-skill" id="tooltip-skill">
            <button class="close-btn">×</button>
            <table class="tooltip-table">
              <tr>
                <td rowspan="3" class="tooltip-colspan weak-col">
                  <img src="image/weakbackground.webp" alt="약점 배경" class="weak-background">
                </td>
                <td class="tooltip-cell label-col weak-label">약점</td>
                <td class="tooltip-cell description-col">해당 속성의 공격으로 <span class="highlight">25% 증가된 데미지</span>를 입습니다.</td>
              </tr>
              <tr>
                <td class="tooltip-cell label-col weak-label">회피 불가</td>
                <td class="tooltip-cell description-col">해당 속성의 공격은 <span class="highlight">회피가 불가</span>합니다.</td>
              </tr>
              <tr>
                <td class="tooltip-cell label-col weak-label">효과 확률</td>
                <td class="tooltip-cell description-col">해당 속성의 공격에 효과가 있을 경우, <span class="highlight">효과에 걸릴 확률이 증가</span>합니다.</td>
              </tr>
              <tr>
                <td rowspan="3" class="tooltip-colspan strong-col">
                  <img src="image/strongbackground.webp" alt="강점 배경" class="strong-background">
                </td>
                <td class="tooltip-cell label-col strong-label">반사</td>
                <td class="tooltip-cell description-col">해당 속성의 공격을 받으면 <span class="highlight">피해량의 25%</span>를 되돌려 줍니다.</td>
              </tr>
              <tr>
                <td class="tooltip-cell label-col strong-label">회피</td>
                <td class="tooltip-cell description-col">해당 속성 공격에 대해 <span class="highlight">회피율이 2배</span>로 적용 됩니다.</td>
              </tr>
              <tr>
                <td class="tooltip-cell label-col strong-label">내성</td>
                <td class="tooltip-cell description-col">해당 속성의 공격으로 <span class="highlight">받는 데미지는 25% 감소</span>합니다.</td>
              </tr>
            </table>
            
            
          </div>
        </label>

        <div class="button-group">
          <label>
            <input type="checkbox" id="select-all-skill" onclick="toggleAllSkill()" />
          </label>
            <button id="강철" class="skill-btn" title="강철" onclick="toggleSkill('강철')">
             <img src="image/강철.webp" alt="강철">
            </button>
            <button id="나무" class="skill-btn" title="나무" onclick="toggleSkill('나무')">
             <img src="image/나무.webp" alt="나무">
            </button>
            <button id="흙" class="skill-btn" title="흙" onclick="toggleSkill('흙')">
             <img src="image/흙.webp" alt="흙">
            </button>
            <button id="물" class="skill-btn" title="물" onclick="toggleSkill('물')">
             <img src="image/물.webp" alt="물">
            </button>
            <button id="물리" class="skill-btn" title="물리" onclick="toggleSkill('물리')">
             <img src="image/물리.webp" alt="물리">
            </button>
            <button id="바람" class="skill-btn" title="바람" onclick="toggleSkill('바람')">
             <img src="image/바람.webp" alt="바람">
            </button>
            <button id="불" class="skill-btn" title="불" onclick="toggleSkill('불')">
             <img src="image/불.webp" alt="불">
            </button>
            <button id="빛" class="skill-btn" title="빛" onclick="toggleSkill('빛')">
             <img src="image/빛.webp" alt="빛">
            </button>
            <button id="어둠" class="skill-btn" title="어둠" onclick="toggleSkill('어둠')">
             <img src="image/어둠.webp" alt="어둠">
            </button>
            <button id="얼음" class="skill-btn" title="얼음" onclick="toggleSkill('얼음')">
             <img src="image/얼음.webp" alt="얼음">
            </button>
            <button id="천둥" class="skill-btn" title="천둥" onclick="toggleSkill('천둥')">
             <img src="image/천둥.webp" alt="천둥">
            </button>
        </div>
      </div>

      <div class="filter-row">
        <label class="filter-label">강점</label>
        <div class="button-group">
          <label>
            <input type="checkbox" id="select-all-strong" onclick="toggleAllStrong()" />
          </label>
            <button id="strong_강철" class="skillstrong-btn" title="강철" onclick="toggleSkillStrong('strong_강철')">
             <img src="image/강철.webp" alt="강철">
            </button>
            <button id="strong_나무" class="skillstrong-btn" title="나무" onclick="toggleSkillStrong('strong_나무')">
             <img src="image/나무.webp" alt="나무">
            </button>
            <button id="strong_흙" class="skillstrong-btn" title="흙" onclick="toggleSkillStrong('strong_흙')">
             <img src="image/흙.webp" alt="흙">
            </button>
            <button id="strong_물" class="skillstrong-btn" title="물" onclick="toggleSkillStrong('strong_물')">
             <img src="image/물.webp" alt="물">
            </button>
            <button id="strong_물리" class="skillstrong-btn" title="물리" onclick="toggleSkillStrong('strong_물리')">
             <img src="image/물리.webp" alt="물리">
            </button>
            <button id="strong_바람" class="skillstrong-btn" title="바람" onclick="toggleSkillStrong('strong_바람')">
             <img src="image/바람.webp" alt="바람">
            </button>
            <button id="strong_불" class="skillstrong-btn" title="불" onclick="toggleSkillStrong('strong_불')">
             <img src="image/불.webp" alt="불">
            </button>
            <button id="strong_빛" class="skillstrong-btn" title="빛" onclick="toggleSkillStrong('strong_빛')">
             <img src="image/빛.webp" alt="빛">
            </button>
            <button id="strong_어둠" class="skillstrong-btn" title="어둠" onclick="toggleSkillStrong('strong_어둠')">
             <img src="image/어둠.webp" alt="어둠">
            </button>
            <button id="strong_얼음" class="skillstrong-btn" title="얼음" onclick="toggleSkillStrong('strong_얼음')">
             <img src="image/얼음.webp" alt="얼음">
            </button>
            <button id="strong_천둥" class="skillstrong-btn" title="천둥" onclick="toggleSkillStrong('strong_천둥')">
             <img src="image/천둥.webp" alt="천둥">
            </button>
        </div>
      </div>

      <div class="filter-row">
        <label class="filter-label">약점</label>
        <div class="button-group">
          <label>
            <input type="checkbox" id="select-all-weak" onclick="toggleAllWeak()" />
          </label>
            <button id="weak_강철" class="skillweak-btn" title="강철" onclick="toggleSkillWeak('weak_강철')">
              <img src="image/강철.webp" alt="강철">
            </button>
            <button id="weak_나무" class="skillweak-btn" title="나무" onclick="toggleSkillWeak('weak_나무')">
              <img src="image/나무.webp" alt="나무">
            </button>
            <button id="weak_흙" class="skillweak-btn" title="흙" onclick="toggleSkillWeak('weak_흙')">
              <img src="image/흙.webp" alt="흙">
            </button>
            <button id="weak_물" class="skillweak-btn" title="물" onclick="toggleSkillWeak('weak_물')">
              <img src="image/물.webp" alt="물">
            </button>
            <button id="weak_물리" class="skillweak-btn" title="물리" onclick="toggleSkillWeak('weak_물리')">
              <img src="image/물리.webp" alt="물리">
            </button>
            <button id="weak_바람" class="skillweak-btn" title="바람" onclick="toggleSkillWeak('weak_바람')">
              <img src="image/바람.webp" alt="바람">
            </button>
            <button id="weak_불" class="skillweak-btn" title="불" onclick="toggleSkillWeak('weak_불')">
              <img src="image/불.webp" alt="불">
            </button>
            <button id="weak_빛" class="skillweak-btn" title="빛" onclick="toggleSkillWeak('weak_빛')">
              <img src="image/빛.webp" alt="빛">
            </button>
            <button id="weak_어둠" class="skillweak-btn" title="어둠" onclick="toggleSkillWeak('weak_어둠')">
              <img src="image/어둠.webp" alt="어둠">
            </button>
            <button id="weak_얼음" class="skillweak-btn" title="얼음" onclick="toggleSkillWeak('weak_얼음')">
              <img src="image/얼음.webp" alt="얼음">
            </button>
            <button id="weak_천둥" class="skillweak-btn" title="천둥" onclick="toggleSkillWeak('weak_천둥')">
              <img src="image/천둥.webp" alt="천둥">
            </button>
        </div>
      </div>

      <div class="filter-row">
        <label class="filter-label">
          필드
          <img src="image/qm.webp" alt="필드 아이콘" class="field-qm" onmouseover="showTooltip('tooltip-field')">
          <div class="tooltip-field" id="tooltip-field">
            <div class="tooltip-table-header">
              <span class="header-condition">시너지 조건</span>
              <span class="header-description">설명</span>
              <button class="close-btn">×</button>
            </div>
            
            <div class="tooltip-table-content">
              <div class="condition">
                <img src="image/field/DR.webp" alt="DR">
                <img src="image/field/DR.webp" alt="DR">
              </div>
              <div class="description">DR 필드 시너지 RES 증가 (+4%)</div>

              <div class="condition">
                <img src="image/field/DR.webp" alt="DR">
                <img src="image/field/DR.webp" alt="DR">
                <img src="image/field/DR.webp" alt="DR">
              </div>
              <div class="description">DR 필드 시너지 RES 증가 (+6%)</div>
              
              <div class="condition">
                <img src="image/field/NSp.webp" alt="NSp">
                <img src="image/field/NSp.webp" alt="NSp">
              </div>
              <div class="description">NSp 필드 시너지 치명타율 증가 (+7%)</div>

              <div class="condition">
                <img src="image/field/NSp.webp" alt="NSp">
                <img src="image/field/NSp.webp" alt="NSp">
                <img src="image/field/NSp.webp" alt="NSp">
              </div>
              <div class="description">NSp 필드 시너지 치명타율 증가 (+12%)</div>

              <div class="condition">
                <img src="image/field/WG.webp" alt="WG">
                <img src="image/field/WG.webp" alt="WG">
              </div>
              <div class="description">WG 필드 시너지 HP 증가 (+8%)</div>

              <div class="condition">
                <img src="image/field/WG.webp" alt="WG">
                <img src="image/field/WG.webp" alt="WG">
                <img src="image/field/WG.webp" alt="WG">
              </div>
              <div class="description">WG 필드 시너지 HP 증가 (+15%)</div>

              <div class="condition">
                <img src="image/field/DS.webp" alt="DS">
                <img src="image/field/DS.webp" alt="DS">
              </div>
              <div class="description">DS 필드 시너지 SPD 증가 (+4%)</div>

              <div class="condition">
                <img src="image/field/DS.webp" alt="DS">
                <img src="image/field/DS.webp" alt="DS">
                <img src="image/field/DS.webp" alt="DS">
              </div>
              <div class="description">DS 필드 시너지 SPD 증가 (+6%)</div>

              <div class="condition">
                <img src="image/field/VB.webp" alt="VB">
                <img src="image/field/VB.webp" alt="VB">
              </div>
              <div class="description">VB 필드 시너지 SP 증가 (+8%)</div>

              <div class="condition">
                <img src="image/field/VB.webp" alt="VB">
                <img src="image/field/VB.webp" alt="VB">
                <img src="image/field/VB.webp" alt="VB">
              </div>
              <div class="description">VB 필드 시너지 SP 증가 (+15%)</div>

              <div class="condition">
                <img src="image/field/NSo.webp" alt="NSo">
                <img src="image/field/NSo.webp" alt="NSo">
              </div>
              <div class="description">NSo 필드 시너지 INT 증가 (+3%)</div>

              <div class="condition">
                <img src="image/field/NSo.webp" alt="NSo">
                <img src="image/field/NSo.webp" alt="NSo">
                <img src="image/field/NSo.webp" alt="NSo">
              </div>
              <div class="description">NSo 필드 시너지 INT 증가 (+5%)</div>

              <div class="condition">
                <img src="image/field/ME.webp" alt="ME">
                <img src="image/field/ME.webp" alt="ME">
              </div>
              <div class="description">ME 필드 시너지 DEF 증가 (+6%)</div>

              <div class="condition">
                <img src="image/field/ME.webp" alt="ME">
                <img src="image/field/ME.webp" alt="ME">
                <img src="image/field/ME.webp" alt="ME">
              </div>
              <div class="description">ME 필드 시너지 DEF 증가 (+10%)</div>

              <div class="condition">
                <img src="image/field/JT.webp" alt="JT">
                <img src="image/field/JT.webp" alt="JT">
              </div>
              <div class="description">JT 필드 시너지 STR 증가 (+5%)</div>

              <div class="condition">
                <img src="image/field/JT.webp" alt="JT">
                <img src="image/field/JT.webp" alt="JT">
                <img src="image/field/JT.webp" alt="JT">
              </div>
              <div class="description">JT 필드 시너지 STR 증가 (+8%)</div>

              <div class="condition">
                <img src="image/field/DA.webp" alt="DA">
                <img src="image/field/DA.webp" alt="DA">
              </div>
              <div class="description">DA 필드 시너지 회피율 증가 (+2%)</div>

              <div class="condition">
                <img src="image/field/DA.webp" alt="DA">
                <img src="image/field/DA.webp" alt="DA">
                <img src="image/field/DA.webp" alt="DA">
              </div>
              <div class="description">DA 필드 시너지 회피율 증가 (+4%)</div>

              <div class="condition">
                <img src="image/field/UK.webp" alt="UK">
                <img src="image/field/UK.webp" alt="UK">
              </div>
              <div class="description">UK 필드 시너지 체인스킬발동률 증가 (+10%)</div>

              <div class="condition">
                <img src="image/field/UK.webp" alt="UK">
                <img src="image/field/UK.webp" alt="UK">
                <img src="image/field/UK.webp" alt="UK">
              </div>
              <div class="description">UK 필드 시너지 체인스킬발동률 증가 (+15%)</div>
            </div>
            <div class="tooltip-footer">
              <span>※ 돌연변이체를 포함한 동일 디지몬 조합은 필드 효과가 부여되지 않습니다.</span>
            </div>
          </div>
        </label>
        <div class="button-group-field">
            <button id="DA" class="field-btn" title="DA" onclick="toggleField('DA')">
             <img src="image/field/DA.webp" alt="DA">
            </button>
            <button id="UK" class="field-btn" title="UK" onclick="toggleField('UK')">
             <img src="image/field/UK.webp" alt="UK">
            </button>
            <button id="DR" class="field-btn" title="DR" onclick="toggleField('DR')">
             <img src="image/field/DR.webp" alt="DR">
            </button>
            <button id="DS" class="field-btn" title="DS" onclick="toggleField('DS')">
             <img src="image/field/DS.webp" alt="DS">
            </button>            
            <button id="JT" class="field-btn" title="JT" onclick="toggleField('JT')">
             <img src="image/field/JT.webp" alt="JT">
            </button>
            <button id="ME" class="field-btn" title="ME" onclick="toggleField('ME')">
             <img src="image/field/ME.webp" alt="ME">
            </button>
            <button id="NSo" class="field-btn" title="NSo" onclick="toggleField('NSo')">
             <img src="image/field/NSo.webp" alt="NSo">
            </button>
            <button id="NSp" class="field-btn" title="NSp" onclick="toggleField('NSp')">
             <img src="image/field/NSp.webp" alt="NSp">
            </button>
            <button id="VB" class="field-btn" title="VB" onclick="toggleField('VB')">
             <img src="image/field/VB.webp" alt="VB">
            </button>
            <button id="WG" class="field-btn" title="WG" onclick="toggleField('WG')">
             <img src="image/field/WG.webp" alt="WG">
            </button>
        </div>
    </div>
    
    <div class="search-box">
      <input id="search" type="text" class="search-input" placeholder="디지몬 이름을 입력하세요">
    </div>

    <div class="text-container">
      <div class="text">
        <p>* 디지몬 이름을 클릭하면 상세페이지로 이동합니다.</p>
      </div>
    
      <div class="text2">
        <p class="all-text">전체 공격</p>
        <p class="casting-text">캐스팅</p>
      </div>
    </div>
    
    <div class="results">
      <table class="result-table" style="border: 2px solid darkgrey;">
        <thead>
          <tr style="border: 2px solid darkgrey;">
            <th onclick="sortTable(0)" class="sortable">이름 <span id="sort-name"></span></th>
            <th onclick="sortTable(1)">레벨</th>
            <th onclick="sortTable(2)">진화 단계</th>
            <th onclick="sortTable(3)" class="sortable">타입 <span id="sort-type"></span></th>
            <th onclick="sortTable(4)" class="sortable" style="border-left: 2px solid darkgrey;">HP <span id="sort-hp"></span></th>
            <th onclick="sortTable(5)" class="sortable">SP <span id="sort-sp"></span></th>
            <th onclick="sortTable(6)" class="sortable">힘 <span id="sort-power"></span></th>
            <th onclick="sortTable(7)" class="sortable">지능 <span id="sort-intelligence"></span></th>
            <th onclick="sortTable(8)" class="sortable">수비 <span id="sort-defense"></span></th>
            <th onclick="sortTable(9)" class="sortable">저항 <span id="sort-resistance"></span></th>
            <th onclick="sortTable(10)" class="sortable">속도 <span id="sort-speed"></span></th>
            <th style="border-left: 2px solid darkgrey;">강점</th>
            <th style="border-right: 2px solid darkgrey;">약점</th>
            <th>1스킬</th>
            <th>2스킬</th>
            <th>3스킬</th>
            <th style="border-left: 2px solid darkgrey;">필드</th>
          </tr>
        </thead>
        <tbody id="characterTable">
        </tbody>
      </table>
    </div>
  </div>
</body>
</html>